<div class="container ">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6 col-md-6 nav-block">
                    <ul class="nav navbar-nav">
                        <li *ngIf="userType">
                            <a (click)="addNewLoan()">Add Loan</a>
                        </li>
                        <!-- <li>
                            <a (click)="logingOut()">Logout</a>
                        </li> -->
                      </ul>
                </div>
                <div class="col-sm-6 col-md-6 user-block">
                    <span class="usen-name">Hi {{user.username}}</span>
                    <span class="log-out"><a (click)="logingOut()">Logout</a></span>
                </div>
            </div>
        </div>
    </nav>
    <!-- <div class="row rtwo mx-3">
        <span style="float: right;">
            <button type="button" *ngIf="userType" class="btn btn-primary btn-space mb-2 " style="margin-right: 15px;" (click)="addNewLoan()" >Add
                Loan</button>
            <button type="button" class="btn btn-primary btn-space mb-2" (click)="logingOut()" style="margin-right: 15px;">Logout</button>
        </span>
    </div> -->
    <form (ngSubmit)="serchLoan()" >
        <h2 class="card-heading ">Loan Search</h2>
        <div class="row ">
            <div class="col-md-4">
                <div class="form-group"><label for="text" class="sr-only">loanNo</label>
                    <input type="text" [(ngModel)]="loanNo" [ngModelOptions]="{standalone: true}" class="form-control"
                        id="loanNo"  placeholder="Loan No">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group"><label for="text" class="sr-only">firstName </label>
                    <input type="text" [(ngModel)]="fName" [ngModelOptions]="{standalone: true}" class="form-control"
                        id="firstName" placeholder="First Name" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group"><label for="text" class="sr-only">lastName</label>
                    <input type="text" [(ngModel)]="lName" [ngModelOptions]="{standalone: true}" class="form-control"
                        id="lastName" placeholder="Last Name" > 
                </div>
            </div>
        </div>
        <div>
            <button type="submit" class="btn btn-primary mb-2">Search</button>
            <button type="reset" class="btn btn-primary mb-2" style="margin-left: 5px;">Clear</button>
            <!-- <div class="col-md-2">
                <div class="form-group"><button type="submit" class="btn btn-primary mb-2">Search</button></div>
            </div>
            <div class="col-md-2">
                <div class="form-group"><button type="reset" class="btn btn-primary mb-2">Clear</button></div>
            </div> -->
        </div>
    </form>

    <div class="search-results" *ngIf="matching_loans && matching_loans.length > 0">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Loan No</th>
                    <th>Name</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let loan of matching_loans">
                    <td>{{loan.loanno}}</td>
                    <td>{{loan.fname + ' ' + loan.lname}}</td>
                    <td>
                            <button (click)="viewLoanDetails(loan)" class="btn btn-default" style="margin-right: 15px;">View</button>
                            <button *ngIf="userType"  (click)="modifyLoanDetails(loan)"  class="btn btn-default" style="margin-right: 15px;">Modify</button>       
                            <button *ngIf="userType"  (click)="deleteLoan(loan)"  class="btn btn-default" style="margin-right: 15px;">Delete</button>                                           
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div> 